---
name: mrpark-parking
description: VALETMAN ì£¼ì°¨ìš´ì˜ ì‹œìŠ¤í…œ ê°œë°œ ìŠ¤í‚¬. Next.js Supabase Vercel ê¸°ë°˜ 12ê°œ ë©”ë‰´ ì›¹ì‹œìŠ¤í…œ. ë°˜ì‘í˜•(PC+ëª¨ë°”ì¼), ME.PARK 2.0 ë¡œê³  ì‹œìŠ¤í…œ ì ìš©. org_id ë©€í‹°í…Œë„Œì‹œ + ë§¤ì¥ ë°°ì • ì‹œìŠ¤í…œ + í•œêµ­ ê³µíœ´ì¼ ì—°ë™.
---

# VALETMAN ì£¼ì°¨ìš´ì˜ ì‹œìŠ¤í…œ ê°œë°œ ìŠ¤í‚¬

## í”„ë¡œì íŠ¸ ê°œìš”

| í•­ëª© | ë‚´ìš© |
|------|------|
| í”„ë¡œì íŠ¸ëª… | VALETMAN (ë°œë ›ë§¨) ì£¼ì°¨ìš´ì˜ ì‹œìŠ¤í…œ |
| íšŒì‚¬ëª… | ì£¼ì‹íšŒì‚¬ ë¯¸ìŠ¤í„°íŒ (Mr. Park) |
| ë°°í¬ URL | https://mrpark-parking.vercel.app |
| ê¸°ìˆ  ìŠ¤íƒ | Next.js 16 + TypeScript + Tailwind CSS + Supabase + Vercel |
| ëŒ€ìƒ ê·œëª¨ | ë² íƒ€ 20ê³³, í¬ë£¨ 100ëª…, SaaS í™•ì¥ ëŒ€ë¹„ |
| ê´€ë¦¬ì ê³„ì • | mepark1022@gmail.com |
| ë©€í‹°í…Œë„Œì‹œ | org_id ê¸°ë°˜ (organizations í…Œì´ë¸”) |
| GitHub | https://github.com/mepark1022/mrpark-parking |
| ë„ë©”ì¸ | mepark.kr |

---

## ë©€í‹°í…Œë„Œì‹œ (org_id ê¸°ë°˜)

### í•µì‹¬ êµ¬ì¡°
- **organizations í…Œì´ë¸”**: ê³ ê°ì‚¬(í…Œë„ŒíŠ¸) ì •ë³´ ê´€ë¦¬
- **ëª¨ë“  ë°ì´í„° í…Œì´ë¸”ì— org_id ì»¬ëŸ¼ ì¡´ì¬**: stores, workers, daily_records, parking_lots ë“± ì „ì²´
- **ë¡œê·¸ì¸ ì‹œ org_id í™•ì¸**: auth.users.app_metadata.org_id â†’ í•´ë‹¹ ì¡°ì§ ë°ì´í„°ë§Œ ì¡°íšŒ
- **getOrgId() ìœ í‹¸**: `src/lib/utils/org.ts` â€” í˜„ì¬ ì‚¬ìš©ìì˜ org_id ë°˜í™˜
- **getUserContext() ìœ í‹¸**: orgId + role + userId ë°˜í™˜

### ì¿¼ë¦¬ ê·œì¹™ (í•„ìˆ˜)
```typescript
// âœ… ì˜¬ë°”ë¥¸ íŒ¨í„´ - ëª¨ë“  SELECTì— org_id í•„í„°
const oid = await getOrgId();
const { data } = await supabase.from("stores").select("*").eq("org_id", oid).order("name");

// âœ… ì˜¬ë°”ë¥¸ íŒ¨í„´ - ëª¨ë“  INSERTì— org_id í¬í•¨
await supabase.from("stores").insert({ ...payload, org_id: oid });

// âŒ ê¸ˆì§€ - org_id ì—†ëŠ” ì¿¼ë¦¬ (parking_lots INSERTì—ì„œ ì‹¤ì œ ë²„ê·¸ ë°œìƒ ì´ë ¥)
const { data } = await supabase.from("stores").select("*").order("name");
```

### âš ï¸ org_id ëˆ„ë½ ë²„ê·¸ ì´ë ¥ (ì¬ë°œ ë°©ì§€)
- `parking_lots` INSERT ì‹œ org_id ëˆ„ë½ â†’ ëŒ€ì‹œë³´ë“œ ì£¼ì°¨ì¥ í˜„í™© ì—°ë™ ì‹¤íŒ¨
- ì›ì¸: stores í˜ì´ì§€ì—ì„œ ì£¼ì°¨ì¥ ì¶”ê°€ ì‹œ payloadì— org_id ë¯¸í¬í•¨
- í•´ê²°: payloadì— `org_id: oid` ì¶”ê°€ + ê¸°ì¡´ ë°ì´í„° SQL UPDATE

---

## ê°œë°œ í™˜ê²½

| í•­ëª© | ë‚´ìš© |
|------|------|
| GitHub | https://github.com/mepark1022/mrpark-parking |
| Next.js | v16.1.6 (Turbopack, App Router + src/) |
| Supabase URL | https://xwkatswgojahuaimbuhw.supabase.co |
| ì´ë©”ì¼ ë°œì†¡ | Resend (ë¬´ë£Œ, ì›” 3,000ê±´) |
| ë°°í¬ | Vercel (Hobby, ë¬´ë£Œ) |
| ì—‘ì…€ ë¼ì´ë¸ŒëŸ¬ë¦¬ | xlsx (SheetJS) |

---

## ì‚¬ì´ë“œë°” ë©”ë‰´ êµ¬ì¡° (12ê°œ)

```
ì‚¬ì´ë“œë°” (ME.PARK 2.0 ë¡œê³  + ê·¸ë¼ë°ì´ì…˜ ë„¤ì´ë¹„)
â”œâ”€â”€ ëŒ€ì‹œë³´ë“œ        /dashboard
â”œâ”€â”€ ë°ì´í„° ì…ë ¥     /entry
â”œâ”€â”€ ì…ì°¨ í˜„í™©       /parking-status
â”œâ”€â”€ ì›”ì£¼ì°¨ ê´€ë¦¬     /monthly
â”œâ”€â”€ ë§¤ì¶œ ë¶„ì„       /analytics
â”œâ”€â”€ ê·¼ë¬´ì ê´€ë¦¬     /workers      (6íƒ­: ì¶œí‡´ê·¼/ëª…ë¶€/ê·¼íƒœ/ì—°ì°¨/ê·¼ë¬´ë¦¬ë·°/ì‹œë§ì„œ)
â”œâ”€â”€ ë§¤ì¥ ê´€ë¦¬       /stores       (ë§¤ì¥+ë°©ë¬¸ì§€+ì£¼ì°¨ì¥+ìš´ì˜ì‹œê°„+ê·¼ë¬´ì¡°)
â”œâ”€â”€ íŒ€ì› ì´ˆëŒ€       /team
â”œâ”€â”€ ì‚¬ê³ ë³´ê³         /accident
â”œâ”€â”€ ì„¤ì •            /settings
â”œâ”€â”€ â”€â”€â”€â”€â”€â”€â”€â”€â”€
â””â”€â”€ ê¸°ëŠ¥ì•ˆë‚´        /guide        (ê³¨ë“œ ê°•ì¡° ê³ ì • ë²„íŠ¼)
```

- ì‚¬ì´ë“œë°” ë“œë˜ê·¸ì•¤ë“œë¡­ ìˆœì„œ ì»¤ìŠ¤í„°ë§ˆì´ì§• ê°€ëŠ¥ (sidebar_order í…Œì´ë¸” ì €ì¥)
- ìˆœì„œí¸ì§‘ ë²„íŠ¼: ê³¨ë“œ ê°•ì¡°

---

## ë°˜ì‘í˜• ë ˆì´ì•„ì›ƒ

### PC (768px ì´ìƒ)
- ì¢Œì¸¡ Sidebar 240px ê³ ì • (fixed + h-screen) + ìš°ì¸¡ ì½˜í…ì¸  ì˜ì—­ (ml-248)
- ì½˜í…ì¸  maxWidth: 1400px

### ëª¨ë°”ì¼ (768px ë¯¸ë§Œ)
- Sidebar ìˆ¨ê¹€, í•˜ë‹¨ MobileTabBar (í™ˆ/ì…ë ¥/ê·¼ë¬´ì/ì‚¬ê³ /ë”ë³´ê¸°)
- ë”ë³´ê¸°: ì…ì°¨í˜„í™©/ì›”ì£¼ì°¨/ë§¤ì¶œë¶„ì„/ë§¤ì¥ê´€ë¦¬/íŒ€ì›ì´ˆëŒ€/ì„¤ì •
- CSS @mediaë¡œ ì œì–´ (ì¸ë¼ì¸ display ê¸ˆì§€ â†’ ê¹œë¹¡ì„ ë°©ì§€)

---

## ì™„ë£Œëœ ê¸°ëŠ¥ ìƒì„¸

### 1. ëŒ€ì‹œë³´ë“œ (/dashboard)
- ë§¤ì¥ ì„ íƒ (org_id í•„í„°), ê¸°ê°„ ì„ íƒ (ì˜¤ëŠ˜/ì´ë²ˆì£¼/ì´ë²ˆë‹¬/ì§ì ‘ì„¤ì •)
- **KPI ì¹´ë“œ 4ì¹¸** (text-4xl í° ìˆ«ì): ì´ì…ì°¨/ë°œë ›ë§¤ì¶œ/ì£¼ì°¨ë§¤ì¶œ/ê·¼ë¬´ì¸ì› + ë°œë ›/ì£¼ì°¨ ì˜¨ì˜¤í”„ í† ê¸€
- **ì£¼ì°¨ì¥ í˜„í™©** (ì „ë©´ ê°œí¸ 2026.2.19):
  - ë§¤ì¥ ì„ íƒ íƒ­ ë²„íŠ¼ (ì „ì²´ ë§¤ì¥ í‘œì‹œ, ì£¼ì°¨ì¥ ìˆëŠ” ë§¤ì¥ ğŸ…¿ï¸ ì•„ì´ì½˜)
  - ê¸°ë³¸ ì„ íƒ: ì£¼ì°¨ì¥ ìˆëŠ” ë§¤ì¥ ìš°ì„  (parkingStatus[0])
  - ìƒë‹¨ ë§¤ì¥ í•„í„°ì™€ ë…ë¦½ (ìì²´ íƒ­ìœ¼ë¡œë§Œ ì œì–´)
  - ë§¤ì¥ ìš”ì•½ ì¹´ë“œ: ì´/í˜„ì¬/ì”ì—¬ 28px í° ìˆ«ì + ì ìœ ìœ¨ ë°” 14px
  - ê°œë³„ ì£¼ì°¨ì¥ ì¹´ë“œ: 3ì—´ ê·¸ë¦¬ë“œ (ì ìœ ìœ¨ ë°°ì§€, ë¯¸ë‹ˆ ì ìœ ìœ¨ ë°”)
  - ì£¼ì°¨ì¥ ë¯¸ë“±ë¡ ë§¤ì¥: ì•ˆë‚´ ë©”ì‹œì§€ + ë§¤ì¥ ê´€ë¦¬ ê°€ì´ë“œ
  - **ì£¼ì˜**: totalSpaces = self_spaces + mechanical_normal + mechanical_suv (lot.total_spaces ì‚¬ìš© ê¸ˆì§€)
- ì‹œê°„ëŒ€ë³„ + ì¼ë³„ ì°¨íŠ¸ (2ì—´, ë†’ì´ 280)
- ë§¤ì¥ ë­í‚¹ (í’€ ë„ˆë¹„)
- ì›”ì£¼ì°¨ + ë§ˆê°ë¯¸ì •ì‚° (2ì—´) â€” ë§ˆê°ë¯¸ì •ì‚° 1ê°œë§Œ (ì¤‘ë³µ ì œê±° ì™„ë£Œ)

### 2. ë°ì´í„° ì…ë ¥ (/entry)
- ë§¤ì¥/ë‚ ì§œ ì„ íƒ â†’ **í•œêµ­ ê³µíœ´ì¼ ìë™ íŒë³„** (2026.2.19 ì¶”ê°€)
  - í‰ì¼: ì´ˆë¡ ë±ƒì§€, í† ìš”ì¼: íŒŒë€ ë±ƒì§€, ì¼ìš”ì¼: ë¹¨ê°„ ë±ƒì§€, ê³µíœ´ì¼: ë¹¨ê°„ ë±ƒì§€ + ê³µíœ´ì¼ëª…
- daily_recordsì— `day_type`, `is_holiday` ì €ì¥
- ì‹œê°„ëŒ€ ì…ë ¥ (ìš´ì˜ì‹œê°„ ê¸°ë°˜ ë™ì  ìƒì„±), ë°œë › ê±´ìˆ˜/ë§¤ì¶œ ì…ë ¥
- ê·¼ë¬´ì ìë™ ë¡œë“œ (ê³µíœ´ì¼ì´ì–´ë„ í‰ì¼ ê·¼ë¬´ì ë¡œë”©)

### 3. ì…ì°¨ í˜„í™© (/parking-status)
- í¬ë£¨ì•± ì…ì°¨ ë°ì´í„° ì‹¤ì‹œê°„ ì¡°íšŒ (parking_entries í…Œì´ë¸”)
- ì°¨ëŸ‰ë²ˆí˜¸ ì‹¤ì‹œê°„ ê²€ìƒ‰ + í•„í„° + KPI 4ê°œ + ì‹œê°„ëŒ€ë³„ ë°”ì°¨íŠ¸

### 4. ì›”ì£¼ì°¨ ê´€ë¦¬ (/monthly)
- ì›”ì£¼ì°¨ ë“±ë¡/ì¡°íšŒ/ê²€ìƒ‰/í•„í„°/ìˆ˜ì •/í•´ì§€

### 5. ë§¤ì¶œ ë¶„ì„ (/analytics)
- 5ê°œ ê¸°ê°„ íƒ­, ë§¤ì¥ ì„ íƒ, KPI + ë§¤ì¥ë³„ ë¹„êµ + ì¼ë³„ ì¶”ì´ ì°¨íŠ¸

### 6. ê·¼ë¬´ì ê´€ë¦¬ (/workers) â€” 6íƒ­
- **ì¶œí‡´ê·¼**: ì˜¤ëŠ˜ì˜ ì¶œí‡´ê·¼ í˜„í™© (worker_attendance í…Œì´ë¸”)
- **ëª…ë¶€**: ê·¼ë¬´ì CRUD, ì‹œ/ë„ â†’ êµ¬/ì‹œ 2ë‹¨ê³„ ì§€ì—­ ì„ íƒ
- **ê·¼íƒœ** (ì „ë©´ ê°œí¸ 2026.2.19):
  - ë§¤ì¥ ì„ íƒ íƒ­ + ì›” ì„ íƒ + **ğŸ“¥ ì—‘ì…€ ë‹¤ìš´ â–¾** ë“œë¡­ë‹¤ìš´
  - **ë§¤íŠ¸ë¦­ìŠ¤ ë·°**: ê·¼ë¬´ì=ì„¸ë¡œ(í–‰), ë‚ ì§œ=ê°€ë¡œ(ì—´)
  - ì™¼ìª½ ê³ ì • ì—´: ê·¼ë¬´ì ì´ë¦„, ì˜¤ë¥¸ìª½ ê³ ì • ì—´: í•©ê³„(ì¶œ/ì§€/ê²°)
  - ì…€ í´ë¦­ â†’ ë“œë¡­ë‹¤ìš´ ë©”ë‰´ë¡œ ìƒíƒœ ì„ íƒ (ì¶œê·¼/ì§€ê°/ê²°ê·¼/íœ´ë¬´/ì—°ì°¨/ì‚­ì œ)
  - ê³µíœ´ì¼ ë…¸ë€ ë°°ê²½ + ë¹¨ê°„ ê³µíœ´ì¼ëª… í‘œì‹œ, ì˜¤ëŠ˜ í•˜ì´ë¼ì´íŠ¸
  - ì—‘ì…€ ë‹¤ìš´ë¡œë“œ: í˜„ì¬ ë§¤ì¥ë§Œ / ì „ì²´ ë§¤ì¥(ì‹œíŠ¸ë³„) ì„ íƒ
  - worker_attendance í…Œì´ë¸” = ì¶œí‡´ê·¼ íƒ­ê³¼ ê³µìœ  (ì—°ë™)
- **ì—°ì°¨**: ì—°ì°¨ ë¶€ì—¬/ì‚¬ìš©/ì”ì—¬ ê´€ë¦¬
- **ê·¼ë¬´ë¦¬ë·°**: ê·¼ë¬´ í‰ê°€
- **ì‹œë§ì„œ**: ì‹œë§ì„œ CRUD

### 7. ë§¤ì¥ ê´€ë¦¬ (/stores) â€” 4íƒ­
- ë§¤ì¥ CRUD (ë„ë¡œëª…ì£¼ì†Œ ê²€ìƒ‰, ì§€ì—­ ì„ íƒ)
- **ì£¼ì°¨ì¥ í•„ìˆ˜ ë“±ë¡ ê°•ì œ** (2026.2.19 ì¶”ê°€):
  - ë§¤ì¥ ì‹ ê·œ ìƒì„± ì‹œ â†’ ë„¤ì´ë¹„ ê·¸ë¼ë°ì´ì…˜ ë°°ë„ˆ "ì£¼ì°¨ì¥ì„ ë“±ë¡í•´ì£¼ì„¸ìš”!"
  - ì£¼ì°¨ì¥ 0ê°œì¼ ë•Œ: ë¹¨ê°„ "í•„ìˆ˜" ë°°ì§€ + âš ï¸ ê²½ê³  ë©”ì‹œì§€
  - ì·¨ì†Œ/ë‚˜ê°€ê¸° ì‹œ: confirm íŒì—… "ì£¼ì°¨ì¥ì´ ë“±ë¡ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤!"
  - ë§ˆì§€ë§‰ ì£¼ì°¨ì¥ ì‚­ì œ ì‹œ: confirm ê²½ê³ 
  - ì£¼ì°¨ì¥ ì¶”ê°€ í›„ ë°°ë„ˆ ìë™ ìˆ¨ê¹€
- ë°©ë¬¸ì§€ ê´€ë¦¬, ì£¼ì°¨ì¥ ê´€ë¦¬ (ë³¸ê´€/ì™¸ë¶€, ìì£¼ì‹/ê¸°ê³„ì‹, ìš”ê¸ˆì„¤ì •)
- ìš´ì˜ì‹œê°„, ê·¼ë¬´ì¡°, ì •ìƒì¶œê·¼ì²´í¬, íŠ¹ë³„ì¶”ê°€ê·¼ë¬´

### 8. íŒ€ì› ì´ˆëŒ€ (/team)
- ì´ë©”ì¼ ì´ˆëŒ€ (Resend) + ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ ìˆ˜ë½ + ë§¤ì¥ ë°°ì •
- ì´ˆëŒ€ ì‹œ ë³µìˆ˜ ë§¤ì¥ ì„ íƒ ê°€ëŠ¥ (store_members í…Œì´ë¸”)
- Admin: ì „ì²´ ì ‘ê·¼, CREW: ë°°ì •ëœ ë§¤ì¥ë§Œ ì ‘ê·¼

### 9. ì‚¬ê³ ë³´ê³  (/accident)
- KPI + ì‚¬ê³  ë³´ê³ ì„œ CRUD

### 10. ì„¤ì • (/settings)
- ê¸°ë³¸ ê·¼ë¬´ì ì„¤ì • (ë§¤ì¥ë³„ í‰ì¼/ì£¼ë§)

### 11. ê¸°ëŠ¥ì•ˆë‚´ (/guide) â€” 2026.2.19 ì¶”ê°€
- 12ê°œ ë©”ë‰´ ì„¤ëª… + ë¸Œëœë”© í‘¸í„°
- ì‚¬ì´ë“œë°” ì„¤ì • ì•„ë˜ì— ê³¨ë“œ ê°•ì¡° ê³ ì • ë²„íŠ¼

---

## í•œêµ­ ê³µíœ´ì¼ ì‹œìŠ¤í…œ

### íŒŒì¼: `src/utils/holidays.ts`
- 2025~2027ë…„ ì „ì²´ ê³µíœ´ì¼ ë°ì´í„° (ì„¤ë‚ , ì¶”ì„, ëŒ€ì²´ê³µíœ´ì¼ í¬í•¨)
- ë§¤ë…„ ì´ˆì— ë‹¤ìŒ í•´ ë°ì´í„° ì¶”ê°€ í•„ìš”

### API
```typescript
import { getDayType, getHolidayName, getDayTypeLabel } from "@/utils/holidays";

getDayType("2026-02-17")       // "holiday"
getDayType("2026-02-19")       // "weekday"
getDayType("2026-02-21")       // "weekend"

getHolidayName("2026-02-17")   // "ì„¤ë‚ "
getHolidayName("2026-02-19")   // null

getDayTypeLabel("2026-02-17")  // { label: "ì„¤ë‚ ", color: "#dc2626", bg: "#fee2e2" }
getDayTypeLabel("2026-02-19")  // { label: "í‰ì¼", color: "#15803d", bg: "#dcfce7" }
```

### ì ìš© ë²”ìœ„
- ë°ì´í„° ì…ë ¥ (/entry): ë‚ ì§œ ì˜† ë±ƒì§€ í‘œì‹œ, daily_recordsì— is_holiday ì €ì¥
- ê·¼íƒœ í˜„í™©: ê³µíœ´ì¼ ë…¸ë€ ë°°ê²½ + ê³µíœ´ì¼ëª… í‘œì‹œ

### DB ì»¬ëŸ¼ (daily_records)
```sql
ALTER TABLE daily_records ADD COLUMN IF NOT EXISTS day_type text DEFAULT 'weekday';
ALTER TABLE daily_records ADD COLUMN IF NOT EXISTS is_holiday boolean DEFAULT false;
```

---

## ë§¤ì¥ ë°°ì • ì‹œìŠ¤í…œ

### êµ¬ì¡°
- `store_members` í…Œì´ë¸”: user_id + store_id (ë³µìˆ˜ ë§¤ì¥ ë°°ì •)
- Admin: ì „ì²´ ë§¤ì¥ ì ‘ê·¼ (store_members ë¬´ê´€)
- CREW: store_membersì— ë°°ì •ëœ ë§¤ì¥ë§Œ ì ‘ê·¼

### getUserContext() ê¸°ë°˜ í•„í„°ë§
```typescript
const ctx = await getUserContext();
// ctx = { orgId, role, userId }
// role === "admin" â†’ ì „ì²´ ì ‘ê·¼
// role === "crew" â†’ store_members í•„í„°
```

---

## ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ (Supabase)

### í…Œì´ë¸” ëª©ë¡ (org_id í¬í•¨)
| í…Œì´ë¸” | ìš©ë„ | org_id |
|--------|------|--------|
| organizations | ì¡°ì§(í…Œë„ŒíŠ¸) ê´€ë¦¬ | - (PK) |
| regions | ì§€ì—­ ë§ˆìŠ¤í„° | âŒ (ê³µí†µ) |
| stores | ë§¤ì¥ ì •ë³´ | âœ… |
| workers | ê·¼ë¬´ì ë§ˆìŠ¤í„° | âœ… |
| profiles | ì‚¬ìš©ì í”„ë¡œí•„ | âœ… |
| store_members | ì‚¬ìš©ìë³„ ë§¤ì¥ ë°°ì • | âœ… |
| store_default_workers | ë§¤ì¥ë³„ ê¸°ë³¸ ê·¼ë¬´ì | âœ… |
| daily_records | ì¼ì¼ ì£¼ì°¨ ê¸°ë¡ (day_type, is_holiday ì¶”ê°€) | âœ… |
| hourly_data | ì‹œê°„ëŒ€ë³„ ì…ì°¨ | âœ… |
| worker_assignments | ì¼ì¼ ê·¼ë¬´ì ë°°ì • | âœ… |
| monthly_parking | ì›”ì£¼ì°¨ ê³„ì•½ | âœ… |
| invitations | íŒ€ì› ì´ˆëŒ€ | âœ… |
| parking_lots | ì£¼ì°¨ì¥ ê´€ë¦¬ (**org_id í•„ìˆ˜**) | âœ… |
| parking_entries | ì…ì°¨ ê¸°ë¡ (í¬ë£¨ì•± ì—°ë™) | âœ… |
| worker_attendance | ê·¼íƒœ ê¸°ë¡ (ì¶œí‡´ê·¼+ê·¼íƒœ ê³µìœ ) | âœ… |
| worker_leaves | ì—°ì°¨ ì´ê³„ | âœ… |
| worker_leave_records | ì—°ì°¨ ì‚¬ìš© ê¸°ë¡ | âœ… |
| worker_reviews | ê·¼ë¬´ ë¦¬ë·° | âœ… |
| worker_reports | ì‹œë§ì„œ | âœ… |
| visit_places | ë°©ë¬¸ì§€ ê´€ë¦¬ | âœ… |
| store_operating_hours | ë§¤ì¥ ìš´ì˜ì‹œê°„ | âœ… |
| store_shifts | ê·¼ë¬´ì¡° ì„¤ì • | âœ… |
| store_late_rules | ì •ìƒì¶œê·¼ì²´í¬ ê·œì¹™ | âœ… |
| overtime_shifts | íŠ¹ë³„ì¶”ê°€ê·¼ë¬´ | âœ… |
| sidebar_order | ì‚¬ì´ë“œë°” ìˆœì„œ ì»¤ìŠ¤í…€ | âœ… |

---

## íŒŒì¼ êµ¬ì¡°

```
src/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ layout.tsx
â”‚   â”œâ”€â”€ page.tsx (â†’ /dashboard ë¦¬ë‹¤ì´ë ‰íŠ¸)
â”‚   â”œâ”€â”€ login/page.tsx
â”‚   â”œâ”€â”€ invite/accept/page.tsx
â”‚   â”œâ”€â”€ dashboard/page.tsx
â”‚   â”œâ”€â”€ entry/page.tsx
â”‚   â”œâ”€â”€ parking-status/page.tsx
â”‚   â”œâ”€â”€ monthly/ (page.tsx, register/page.tsx)
â”‚   â”œâ”€â”€ analytics/page.tsx
â”‚   â”œâ”€â”€ accident/page.tsx
â”‚   â”œâ”€â”€ workers/ (page.tsx, LeaveTab, ReviewTab, ReportTab)
â”‚   â”œâ”€â”€ stores/page.tsx
â”‚   â”œâ”€â”€ team/page.tsx
â”‚   â”œâ”€â”€ guide/page.tsx
â”‚   â”œâ”€â”€ more/page.tsx
â”‚   â”œâ”€â”€ settings/ (page.tsx, default-workers/, stores/, workers/, team/)
â”‚   â””â”€â”€ api/invite/route.ts
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ Logo.tsx
â”‚   â””â”€â”€ layout/ (AppLayout, Sidebar, Header, MobileTabBar)
â”œâ”€â”€ utils/
â”‚   â””â”€â”€ holidays.ts              â† í•œêµ­ ê³µíœ´ì¼ (2025-2027)
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ supabase/ (client.ts, server.ts, middleware.ts)
â”‚   â”œâ”€â”€ types/database.ts
â”‚   â””â”€â”€ utils/ (date.ts, format.ts, org.ts)
â””â”€â”€ middleware.ts
```

---

## 2026.2.19 ì‘ì—… ìš”ì•½

### ëŒ€ì‹œë³´ë“œ ìµœì í™”
1. ì‚¬ì´ë“œë°” fixed+h-screen ê³ ì • (ìŠ¤í¬ë¡¤ í•´ë„ ìœ ì§€)
2. ë©”ì¸ ì½˜í…ì¸  ì¢Œì¸¡ ì—¬ë°± ml-248 (ì‚¬ì´ë“œë°” 240px + 8px)
3. KPI ì¹´ë“œ text-4xl í™•ëŒ€, ì½˜í…ì¸  maxWidth 1400
4. ì£¼ì°¨ì¥ í˜„í™© ì „ë©´ ê°œí¸ (ë§¤ì¥ íƒ­ + 3ì—´ ê·¸ë¦¬ë“œ + í° ìˆ«ì)
5. ë§ˆê°ë¯¸ì •ì‚° ì¤‘ë³µ ì œê±°

### ë°ì´í„° ì—°ë™ ë²„ê·¸ ìˆ˜ì •
6. parking_lots org_id ëˆ„ë½ â†’ INSERTì— org_id ì¶”ê°€
7. totalSpaces ê³„ì‚° ì˜¤ë¥˜ â†’ self+mechanical í•©ì‚°ìœ¼ë¡œ ìˆ˜ì •
8. ì£¼ì°¨ì¥ í˜„í™©: ìƒë‹¨ í•„í„°ì™€ ë…ë¦½, ì£¼ì°¨ì¥ ìˆëŠ” ë§¤ì¥ ìš°ì„  ì„ íƒ

### ë§¤ì¥ ê´€ë¦¬ ê°•í™”
9. ë§¤ì¥ ì‹ ê·œ ìƒì„± ì‹œ ì£¼ì°¨ì¥ ë“±ë¡ ì•ˆë‚´ ë°°ë„ˆ
10. ì£¼ì°¨ì¥ í•„ìˆ˜ ë“±ë¡ ê°•ì œ (0ê°œ ê²½ê³ , ì·¨ì†Œ confirm, ì‚­ì œ ê²½ê³ )

### ê³µíœ´ì¼ ì—°ë™
11. holidays.ts ìœ í‹¸ ìƒì„± (2025-2027 ì „ì²´ ê³µíœ´ì¼)
12. ë°ì´í„° ì…ë ¥: ê³µíœ´ì¼ ë±ƒì§€ í‘œì‹œ + daily_recordsì— is_holiday ì €ì¥

### ê·¼íƒœ í˜„í™© ì „ë©´ ê°œí¸
13. ë§¤ì¥ë³„ ì „ì²´ ê·¼ë¬´ì ë§¤íŠ¸ë¦­ìŠ¤ ë·° (ê·¼ë¬´ì=ì„¸ë¡œ, ë‚ ì§œ=ê°€ë¡œ)
14. ì…€ í´ë¦­ ë“œë¡­ë‹¤ìš´ ìƒíƒœ ì„ íƒ
15. ê³µíœ´ì¼ í‘œì‹œ + ì˜¤ëŠ˜ í•˜ì´ë¼ì´íŠ¸ + í•©ê³„ì—´
16. ì—‘ì…€ ë‹¤ìš´ë¡œë“œ (í˜„ì¬ ë§¤ì¥ / ì „ì²´ ë§¤ì¥ ì‹œíŠ¸ë³„)

---

## ê°œë°œ ì‹œ ì£¼ì˜ì‚¬í•­

1. **org_id í•„ìˆ˜**: ëª¨ë“  SELECTì— `.eq("org_id", oid)`, ëª¨ë“  INSERTì— `org_id` í¬í•¨ (parking_lots ë²„ê·¸ ì¬ë°œ ë°©ì§€)
2. **ì£¼ì°¨ì¥ ë©´ìˆ˜ ê³„ì‚°**: `self_spaces + mechanical_normal + mechanical_suv` (lot.total_spaces ì‚¬ìš© ê¸ˆì§€)
3. **ë°˜ì‘í˜•**: PC(Sidebar) + ëª¨ë°”ì¼(MobileTabBar) ìë™ ì „í™˜
4. **ê³µíœ´ì¼**: `src/utils/holidays.ts` importí•˜ì—¬ ì‚¬ìš©, ë§¤ë…„ ë°ì´í„° ì¶”ê°€
5. **ê·¼íƒœ = ì¶œí‡´ê·¼ ì—°ë™**: worker_attendance í…Œì´ë¸” ê³µìœ 
6. **Git**: ê¸°ëŠ¥ ì™„ë£Œ í›„ commit â†’ push (GitHub main ë¸Œëœì¹˜)
7. **ë¹Œë“œ**: push ì „ ì—ëŸ¬ ì²´í¬
8. **getOrgId()**: `src/lib/utils/org.ts`ì—ì„œ import

---

## ê´€ë ¨ ìŠ¤í‚¬

- ë””ìì¸: mrpark-design
- ê´€ë¦¬ì: mrpark-admin (ë§¤ì¥ê´€ë¦¬ ìƒì„¸)
- ë¡œê³ : mrpark-logo (ME.PARK 2.0)
- ì´ˆëŒ€: mrpark-invite (íŒ€ì› ì´ˆëŒ€ + ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸)
- ì „ìì£¼ì°¨ê¶Œ: mrpark-eticket
- ë¬¸ì„œ: mrpark-docs
- PPT: mrpark-pptx
