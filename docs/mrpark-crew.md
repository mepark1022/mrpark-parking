# ME.PARK CREW ì•± ê¸°íšì„œ

> **ë²„ì „:** v1.0 MVP  
> **ì‘ì„±ì¼:** 2026.02.24  
> **ê¸°ìˆ ìŠ¤íƒ:** PWA (Next.js + TypeScript + Supabase)  
> **ë°°í¬:** crew.mepark.kr (Vercel)

---

## 1. ì•± ê°œìš”

### 1.1 ëª©ì 

ì£¼ì°¨ í˜„ì¥ í¬ë£¨(ë°œë ›/ìì£¼ì‹)ê°€ ëª¨ë°”ì¼ë¡œ ì¶œí‡´ê·¼, ì…ì¶œì°¨, ì‚¬ê³ ë³´ê³ ë¥¼ ì²˜ë¦¬í•˜ëŠ” í†µí•© ì•±

### 1.2 ëŒ€ìƒ ì‚¬ìš©ì

| êµ¬ë¶„ | ì—­í•  | ì£¼ìš” ì—…ë¬´ |
|------|------|----------|
| ë°œë › í¬ë£¨ | ì°¨ëŸ‰ ì´ë™ | ì…ì°¨ë“±ë¡, ì°¨ëŸ‰ìœ„ì¹˜ ê¸°ë¡, ì¶œì°¨ |
| ìì£¼ì‹ í¬ë£¨ | ì•ˆë‚´/ì •ì‚° | ì…ì°¨ë“±ë¡, ìš”ê¸ˆ ì•ˆë‚´, ì¶œì°¨ ì •ì‚° |
| ê³µí†µ | - | ì¶œí‡´ê·¼, ì‚¬ê³ ë³´ê³  |

### 1.3 í•µì‹¬ ê°€ì¹˜

| ê°€ì¹˜ | ì„¤ëª… |
|------|------|
| **ê°„í¸í•¨** | í„°ì¹˜ 3ë²ˆ ì´ë‚´ë¡œ í•µì‹¬ ì‘ì—… ì™„ë£Œ |
| **ì‹¤ì‹œê°„** | VALETMAN ê´€ë¦¬ìì™€ ì‹¤ì‹œê°„ ë™ê¸°í™” |
| **ì‹ ë¢°ì„±** | GPS ê¸°ë°˜ ì¶œí‡´ê·¼, íƒ€ì„ìŠ¤íƒ¬í”„ ê¸°ë¡ |

### 1.4 ê¸°ìˆ  ê²°ì •

| í•­ëª© | ì„ íƒ | ì´ìœ  |
|------|------|------|
| í”Œë«í¼ | PWA | ê¸°ì¡´ Next.js ì½”ë“œ ì¬ì‚¬ìš©, ë¹ ë¥¸ ë°°í¬ |
| ì¸ì¦ | Supabase Auth | ê¸°ì¡´ ì‹œìŠ¤í…œ í†µí•© |
| í‘¸ì‹œ | Web Push + ì•Œë¦¼í†¡ í´ë°± | iOS ëŒ€ì‘ |
| ì¹´ë©”ë¼ | HTML5 MediaDevices | ë²ˆí˜¸íŒ/ì‚¬ê³  ì´¬ì˜ |
| GPS | Geolocation API | ì¶œí‡´ê·¼ ìœ„ì¹˜ í™•ì¸ |

---

## 2. í™”ë©´ êµ¬ì¡° (IA)

```
CREW ì•± (crew.mepark.kr)
â”‚
â”œâ”€â”€ ğŸ” ë¡œê·¸ì¸ (/crew/login)
â”‚   â””â”€â”€ ì¹´ì¹´ì˜¤ ì†Œì…œ ë¡œê·¸ì¸
â”‚
â”œâ”€â”€ ğŸª ë§¤ì¥ ì„ íƒ (/crew/select-store)
â”‚   â””â”€â”€ ë³µìˆ˜ ë§¤ì¥ ë°°ì • ì‹œ í‘œì‹œ
â”‚
â”œâ”€â”€ ğŸ  í™ˆ (/crew)
â”‚   â”œâ”€â”€ ì˜¤ëŠ˜ ì¶œê·¼ ìƒíƒœ
â”‚   â”œâ”€â”€ í˜„ì¬ ì£¼ì°¨ í˜„í™© ìš”ì•½
â”‚   â”œâ”€â”€ ë¹ ë¥¸ ë©”ë‰´ (ì…ì°¨/ì¶œì°¨/ì‚¬ê³ )
â”‚   â””â”€â”€ ìµœê·¼ ì•Œë¦¼
â”‚
â”œâ”€â”€ ğŸš— ì…ì°¨ ë“±ë¡ (/crew/entry)
â”‚   â”œâ”€â”€ ë²ˆí˜¸íŒ ì…ë ¥ (ì´¬ì˜/ìˆ˜ë™)
â”‚   â”œâ”€â”€ ì›”ì£¼ì°¨ ìë™ í™•ì¸
â”‚   â”œâ”€â”€ ì£¼ì°¨ ìœ í˜• ì„ íƒ (ìì£¼ì‹/ë°œë ›)
â”‚   â”œâ”€â”€ ë°©ë¬¸ì§€ ì„ íƒ
â”‚   â”œâ”€â”€ ì£¼ì°¨ ìœ„ì¹˜ ì…ë ¥ (ë°œë ›)
â”‚   â””â”€â”€ QR í‹°ì¼“ ë°œê¸‰ ì™„ë£Œ
â”‚
â”œâ”€â”€ ğŸ“‹ ì…ì°¨ í˜„í™© (/crew/parking-list)
â”‚   â”œâ”€â”€ í˜„ì¬ ì£¼ì°¨ ì°¨ëŸ‰ ëª©ë¡
â”‚   â”œâ”€â”€ ê²€ìƒ‰ (ë²ˆí˜¸íŒ)
â”‚   â”œâ”€â”€ í•„í„° (ì „ì²´/ë°œë ›/ìì£¼ì‹/ì›”ì£¼ì°¨)
â”‚   â””â”€â”€ ì°¨ëŸ‰ ìƒì„¸ â†’ ì¶œì°¨ ì²˜ë¦¬
â”‚
â”œâ”€â”€ ğŸš™ ì¶œì°¨ ì²˜ë¦¬ (/crew/checkout/[ticket_id])
â”‚   â”œâ”€â”€ ì°¨ëŸ‰ ì •ë³´ í™•ì¸
â”‚   â”œâ”€â”€ ìš”ê¸ˆ ê³„ì‚° ê²°ê³¼
â”‚   â”œâ”€â”€ ê²°ì œ ìƒíƒœ í™•ì¸
â”‚   â”œâ”€â”€ ì¶”ê°€ìš”ê¸ˆ ì²˜ë¦¬ (30ë¶„ ì´ˆê³¼ ì‹œ)
â”‚   â””â”€â”€ ì¶œì°¨ ì™„ë£Œ
â”‚
â”œâ”€â”€ â° ì¶œí‡´ê·¼ (/crew/attendance)
â”‚   â”œâ”€â”€ ì¶œê·¼í•˜ê¸° (GPS)
â”‚   â”œâ”€â”€ í‡´ê·¼ ìš”ì²­
â”‚   â”œâ”€â”€ ì˜¤ëŠ˜ ê·¼ë¬´ ì‹œê°„
â”‚   â””â”€â”€ ë‚´ ìš”ì²­ ì´ë ¥ (/crew/attendance/history)
â”‚       â”œâ”€â”€ ìš”ì²­ ìƒíƒœ (ëŒ€ê¸°/ìŠ¹ì¸/ë°˜ë ¤)
â”‚       â”œâ”€â”€ ë°˜ë ¤ ì‚¬ìœ  í™•ì¸
â”‚       â””â”€â”€ ì¬ìš”ì²­ ë²„íŠ¼
â”‚
â”œâ”€â”€ âš ï¸ ì‚¬ê³ ë³´ê³  (/crew/accident)
â”‚   â”œâ”€â”€ ìƒˆ ì‚¬ê³  ë“±ë¡
â”‚   â”‚   â”œâ”€â”€ ì‚¬ê³  ìœ í˜• ì„ íƒ
â”‚   â”‚   â”œâ”€â”€ ì°¨ëŸ‰ ì •ë³´
â”‚   â”‚   â”œâ”€â”€ ì‚¬ê³  ë‚´ìš©
â”‚   â”‚   â”œâ”€â”€ ì‚¬ì§„ ì´¬ì˜ (ìµœëŒ€ 5ì¥)
â”‚   â”‚   â””â”€â”€ ì œì¶œ
â”‚   â””â”€â”€ ë‚´ ë³´ê³  ì´ë ¥
â”‚
â”œâ”€â”€ ğŸ“… ì›”ì£¼ì°¨ ì¡°íšŒ (/crew/monthly)
â”‚   â”œâ”€â”€ ì°¨ëŸ‰ë²ˆí˜¸ ê²€ìƒ‰
â”‚   â””â”€â”€ ê³„ì•½ ì •ë³´ í‘œì‹œ
â”‚
â””â”€â”€ âš™ï¸ ì„¤ì • (/crew/settings)
    â”œâ”€â”€ ë‚´ ì •ë³´
    â”œâ”€â”€ ì•Œë¦¼ ì„¤ì •
    â”œâ”€â”€ ì•± ë²„ì „
    â””â”€â”€ ë¡œê·¸ì•„ì›ƒ
```

---

## 3. í™”ë©´ë³„ ìƒì„¸ ê¸°íš

### 3.1 ë¡œê·¸ì¸ (/crew/login)

**UI êµ¬ì„±**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                             â”‚
â”‚      [ME.PARK CREW ë¡œê³ ]     â”‚
â”‚                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚  ğŸ—¨ï¸ ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸    â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                             â”‚
â”‚      ì£¼ì°¨ í¬ë£¨ ì „ìš© ì•±       â”‚
â”‚                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ë™ì‘**
1. ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ â†’ Supabase Auth
2. profiles í…Œì´ë¸”ì—ì„œ role í™•ì¸
3. role = 'crew' ë˜ëŠ” 'admin' â†’ ì§„ì… í—ˆìš©
4. store_membersì—ì„œ ë°°ì • ë§¤ì¥ ì¡°íšŒ
5. ë§¤ì¥ 1ê°œ â†’ í™ˆìœ¼ë¡œ / ë§¤ì¥ ë³µìˆ˜ â†’ ë§¤ì¥ ì„ íƒìœ¼ë¡œ

**ì—ëŸ¬ ì²˜ë¦¬**
| ìƒí™© | ë©”ì‹œì§€ |
|------|--------|
| ë¯¸ë“±ë¡ ì‚¬ìš©ì | "ë“±ë¡ë˜ì§€ ì•Šì€ ê³„ì •ì…ë‹ˆë‹¤. ê´€ë¦¬ìì—ê²Œ ë¬¸ì˜í•˜ì„¸ìš”." |
| ê¶Œí•œ ì—†ìŒ | "í¬ë£¨ ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤." |
| ë°°ì • ë§¤ì¥ ì—†ìŒ | "ë°°ì •ëœ ë§¤ì¥ì´ ì—†ìŠµë‹ˆë‹¤. ê´€ë¦¬ìì—ê²Œ ë¬¸ì˜í•˜ì„¸ìš”." |

---

### 3.2 ë§¤ì¥ ì„ íƒ (/crew/select-store)

**í‘œì‹œ ì¡°ê±´:** store_membersì— 2ê°œ ì´ìƒ ë§¤ì¥ ë°°ì • ì‹œ

**UI êµ¬ì„±**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ê·¼ë¬´í•  ë§¤ì¥ì„ ì„ íƒí•˜ì„¸ìš”      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸª ê°•ì„œì               â†’ â”‚ â”‚
â”‚ â”‚    ì„œìš¸ì‹œ ê°•ì„œêµ¬...       â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸª ë§ˆê³¡ì               â†’ â”‚ â”‚
â”‚ â”‚    ì„œìš¸ì‹œ ê°•ì„œêµ¬...       â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ë™ì‘**
- ì„ íƒí•œ ë§¤ì¥ â†’ localStorage ì €ì¥ + í™ˆìœ¼ë¡œ ì´ë™
- í™ˆ í—¤ë”ì—ì„œ ë§¤ì¥ ë³€ê²½ ê°€ëŠ¥

---

### 3.3 í™ˆ (/crew)

**UI êµ¬ì„±**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ê°•ì„œì            [ë§¤ì¥ë³€ê²½] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ğŸ‘¤ í™ê¸¸ë™ í¬ë£¨          â”‚  â”‚
â”‚  â”‚ ğŸŸ¢ ì¶œê·¼ ì¤‘ (09:00~)     â”‚  â”‚
â”‚  â”‚ â±ï¸ ê·¼ë¬´ì‹œê°„: 4ì‹œê°„ 32ë¶„  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ğŸš—  â”‚ ğŸ…¿ï¸  â”‚ ğŸ“Š  â”‚ ğŸ’°  â”‚  â”‚
â”‚  â”‚ 42  â”‚ 12  â”‚ 78% â”‚ 48ë§Œ â”‚  â”‚
â”‚  â”‚í˜„ì¬ â”‚ë°œë › â”‚ì ìœ  â”‚ë§¤ì¶œ  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                             â”‚
â”‚  â”â”â” ë¹ ë¥¸ ë©”ë‰´ â”â”â”â”â”â”â”â”â”â”â”  â”‚
â”‚                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚  ğŸš—   â”‚ â”‚  ğŸš™   â”‚       â”‚
â”‚  â”‚ì…ì°¨ë“±ë¡â”‚ â”‚ì¶œì°¨ì²˜ë¦¬â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚  âš ï¸   â”‚ â”‚  ğŸ“…   â”‚       â”‚
â”‚  â”‚ì‚¬ê³ ë³´ê³ â”‚ â”‚ì›”ì£¼ì°¨  â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                             â”‚
â”‚  â”â”â” ìµœê·¼ ì•Œë¦¼ â”â”â”â”â”â”â”â”â”â”â”  â”‚
â”‚  â”‚ ğŸ”” í‡´ê·¼ìš”ì²­ì´ ë°˜ë ¤ë¨     â”‚  â”‚
â”‚  â”‚    ì‚¬ìœ : ì”ì—¬ ì—…ë¬´ í™•ì¸..â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚  ğŸ   â”‚  ğŸš—  â”‚  â°  â”‚  âš™ï¸  â”‚
â”‚  í™ˆ  â”‚ í˜„í™© â”‚ ì¶œí‡´ê·¼â”‚ ì„¤ì •  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ë°ì´í„° ì—°ë™**
| í•­ëª© | ì†ŒìŠ¤ |
|------|------|
| ì¶œê·¼ ìƒíƒœ | worker_attendance (ì˜¤ëŠ˜) |
| í˜„ì¬ ì…ì°¨ | mepark_tickets WHERE status='parking' |
| ë°œë › ëŒ€ìˆ˜ | mepark_tickets WHERE parking_type='valet' |
| ì ìœ ìœ¨ | í˜„ì¬ì…ì°¨ / ì´ë©´ìˆ˜ |
| ë§¤ì¶œ | mepark_tickets SUM(paid_amount) |

---

### 3.4 ì…ì°¨ ë“±ë¡ (/crew/entry)

**Step 1: ë²ˆí˜¸íŒ ì…ë ¥**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â† ì…ì°¨ ë“±ë¡                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚                         â”‚â”‚
â”‚  â”‚    ğŸ“· ì¹´ë©”ë¼ ì˜ì—­        â”‚â”‚
â”‚  â”‚                         â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ 12ê°€ 3456              â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚       ë‹¤ìŒ â†’            â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ë™ì‘**
1. ì¹´ë©”ë¼ ì´¬ì˜ ë˜ëŠ” ìˆ˜ë™ ì…ë ¥
2. ë²ˆí˜¸íŒ í˜•ì‹ ê²€ì¦ (ì •ê·œì‹)
3. **ì›”ì£¼ì°¨ ìë™ í™•ì¸** â†’ monthly_parking ì¡°íšŒ
   - í™œì„± ê³„ì•½ â†’ "ì›”ì£¼ì°¨ ì°¨ëŸ‰ì…ë‹ˆë‹¤" ë°°ë„ˆ
   - ë§Œë£Œ ì„ë°•(7ì¼) â†’ "ê³„ì•½ ë§Œë£Œ ì˜ˆì •" ê²½ê³ 

**Step 2: ì£¼ì°¨ ì •ë³´**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â† ì…ì°¨ ë“±ë¡                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                             â”‚
â”‚  ì°¨ëŸ‰ë²ˆí˜¸: 12ê°€ 3456         â”‚
â”‚  ğŸŸ¢ ì›”ì£¼ì°¨ ì°¨ëŸ‰ (2026.03.15 ë§Œë£Œ)â”‚
â”‚                             â”‚
â”‚  â”â”â” ì£¼ì°¨ ìœ í˜• â”â”â”â”â”â”â”â”â”â”â”  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  ğŸ…¿ï¸ ìì£¼ì‹ â”‚  ğŸš— ë°œë ›  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                             â”‚
â”‚  â”â”â” ë°©ë¬¸ì§€ â”â”â”â”â”â”â”â”â”â”â”â”â”â”  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ ì„ íƒí•˜ì„¸ìš”            â–¼ â”‚â”‚
â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚â”‚
â”‚  â”‚ 1ì¸µ ë‚´ê³¼                â”‚â”‚
â”‚  â”‚ 2ì¸µ ì¹˜ê³¼                â”‚â”‚
â”‚  â”‚ 3ì¸µ í”¼ë¶€ê³¼              â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                             â”‚
â”‚  â”â”â” ì£¼ì°¨ ìœ„ì¹˜ (ë°œë › ì‹œ) â”â”  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ B2-A12                  â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚    ì…ì°¨ ë“±ë¡ ì™„ë£Œ âœ“      â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Step 3: ì™„ë£Œ (QR ë°œê¸‰)**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       ì…ì°¨ ì™„ë£Œ! âœ“          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                             â”‚
â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚      â”‚             â”‚        â”‚
â”‚      â”‚   [QRì½”ë“œ]   â”‚        â”‚
â”‚      â”‚             â”‚        â”‚
â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                             â”‚
â”‚   ì°¨ëŸ‰ë²ˆí˜¸: 12ê°€ 3456        â”‚
â”‚   ì…ì°¨ì‹œê°„: 14:32            â”‚
â”‚   ì£¼ì°¨ìœ í˜•: ë°œë ›             â”‚
â”‚   ìœ„ì¹˜: B2-A12              â”‚
â”‚                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚   ê³ ê°ì—ê²Œ QR ì „ë‹¬ ì™„ë£Œ   â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚     ìƒˆ ì…ì°¨ ë“±ë¡ +       â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**DB ì €ì¥ (mepark_tickets)**
```typescript
{
  org_id: currentOrgId,
  store_id: currentStoreId,
  plate_number: "12ê°€3456",
  plate_last4: "3456",
  parking_type: "valet", // or "self"
  visit_place_id: selectedPlaceId,
  parking_location: "B2-A12",
  entry_at: new Date(),
  status: "parking",
  entry_crew_id: currentUserId,
  is_monthly: true, // ì›”ì£¼ì°¨ ì—¬ë¶€
  monthly_parking_id: monthlyId // ìˆìœ¼ë©´
}
```

---

### 3.5 ì…ì°¨ í˜„í™© (/crew/parking-list)

**UI êµ¬ì„±**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â† ì…ì°¨ í˜„í™©                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ” ë²ˆí˜¸íŒ ê²€ìƒ‰           â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                             â”‚
â”‚ [ì „ì²´] [ë°œë ›] [ìì£¼ì‹] [ì›”ì£¼ì°¨]â”‚
â”‚                             â”‚
â”‚ í˜„ì¬ 42ëŒ€ ì£¼ì°¨ ì¤‘            â”‚
â”‚                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ 12ê°€ 3456    ğŸš— ë°œë ›    â”‚ â”‚
â”‚ â”‚ ì…ì°¨: 14:32 (2ì‹œê°„ ì „)   â”‚ â”‚
â”‚ â”‚ ìœ„ì¹˜: B2-A12            â”‚ â”‚
â”‚ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚ â”‚
â”‚ â”‚ [ìš”ê¸ˆí™•ì¸]     [ì¶œì°¨] â†’ â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ 34ë‚˜ 5678    ğŸ…¿ï¸ ìì£¼ì‹  â”‚ â”‚
â”‚ â”‚ ì…ì°¨: 13:15 (3ì‹œê°„ ì „)   â”‚ â”‚
â”‚ â”‚ ğŸŸ¢ ì‚¬ì „ì •ì‚° ì™„ë£Œ         â”‚ â”‚
â”‚ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚ â”‚
â”‚ â”‚ [ìš”ê¸ˆí™•ì¸]     [ì¶œì°¨] â†’ â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ 56ë‹¤ 7890    ğŸ“… ì›”ì£¼ì°¨  â”‚ â”‚
â”‚ â”‚ ì…ì°¨: 09:00 (ì˜¤ëŠ˜)       â”‚ â”‚
â”‚ â”‚ ë§Œë£Œ: 2026.03.15        â”‚ â”‚
â”‚ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚ â”‚
â”‚ â”‚            [ì¶œì°¨] â†’     â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ìƒíƒœë³„ í‘œì‹œ**
| status | ë±ƒì§€ | ìƒ‰ìƒ |
|--------|------|------|
| parking | ì£¼ì°¨ì¤‘ | ë„¤ì´ë¹„ |
| pre_paid | ì‚¬ì „ì •ì‚° | ê·¸ë¦° |
| exit_requested | ì¶œì°¨ìš”ì²­ | ê³¨ë“œ |
| car_ready | ì°¨ëŸ‰ì¤€ë¹„ | ê·¸ë¦° |

---

### 3.6 ì¶œì°¨ ì²˜ë¦¬ (/crew/checkout/[ticket_id])

**ì¼ë°˜ ì¶œì°¨**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â† ì¶œì°¨ ì²˜ë¦¬                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                             â”‚
â”‚  ì°¨ëŸ‰ë²ˆí˜¸: 12ê°€ 3456         â”‚
â”‚  ì…ì°¨: 14:32 â†’ í˜„ì¬: 17:05   â”‚
â”‚  ì£¼ì°¨ì‹œê°„: 2ì‹œê°„ 33ë¶„         â”‚
â”‚                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚     ì£¼ì°¨ìš”ê¸ˆ             â”‚â”‚
â”‚  â”‚     â‚© 8,000             â”‚â”‚
â”‚  â”‚     (ê¸°ë³¸ 2,000 + ì¶”ê°€)  â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                             â”‚
â”‚  ê²°ì œìƒíƒœ: ğŸŸ¢ ì‚¬ì „ì •ì‚° ì™„ë£Œ   â”‚
â”‚                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚      ì¶œì°¨ ì™„ë£Œ âœ“         â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**30ë¶„ ì´ˆê³¼ ì‹œ (ì¶”ê°€ìš”ê¸ˆ)**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â† ì¶œì°¨ ì²˜ë¦¬                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                             â”‚
â”‚  âš ï¸ ì‚¬ì „ì •ì‚° í›„ 30ë¶„ ì´ˆê³¼     â”‚
â”‚                             â”‚
â”‚  ì°¨ëŸ‰ë²ˆí˜¸: 12ê°€ 3456         â”‚
â”‚  ì‚¬ì „ì •ì‚°: 16:30             â”‚
â”‚  í˜„ì¬: 17:15 (45ë¶„ ê²½ê³¼)     â”‚
â”‚                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚  ê¸°ì¡´ ì •ì‚°: â‚© 8,000      â”‚â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚â”‚
â”‚  â”‚  ì¶”ê°€ìš”ê¸ˆ: â‚© 2,000       â”‚â”‚
â”‚  â”‚  (15ë¶„ ì´ˆê³¼ Ã— 10ë¶„ë‹¹ 1,000)â”‚â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚â”‚
â”‚  â”‚  ì¶”ê°€ ê²°ì œ í•„ìš”          â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚   ê³ ê°ì—ê²Œ ì¶”ê°€ê²°ì œ ìš”ì²­  â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                             â”‚
â”‚  ë˜ëŠ”                       â”‚
â”‚                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚   í˜„ê¸ˆ ìˆ˜ë ¹ í›„ ì¶œì°¨ âœ“    â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ë™ì‘ ë¡œì§**
```typescript
// 30ë¶„ ì´ˆê³¼ ì²´í¬
const prePaidAt = ticket.pre_paid_at;
const now = new Date();
const minutesPassed = (now - prePaidAt) / 60000;

if (minutesPassed > 30) {
  const extraMinutes = minutesPassed - 30;
  const extraFee = Math.ceil(extraMinutes / 10) * fee.extra_fee;
  // ì¶”ê°€ìš”ê¸ˆ ì²˜ë¦¬ í™”ë©´ í‘œì‹œ
}
```

---

### 3.7 ì¶œí‡´ê·¼ (/crew/attendance)

**ì¶œê·¼ ì „**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â† ì¶œí‡´ê·¼                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚      ğŸ“ í˜„ì¬ ìœ„ì¹˜        â”‚â”‚
â”‚  â”‚   ê°•ì„œì ì—ì„œ 50m ì´ë‚´    â”‚â”‚
â”‚  â”‚      ğŸŸ¢ ì¶œê·¼ ê°€ëŠ¥        â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚                         â”‚â”‚
â”‚  â”‚       ì¶œê·¼í•˜ê¸° â˜€ï¸        â”‚â”‚
â”‚  â”‚                         â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                             â”‚
â”‚  â”â”â” ì˜¤ëŠ˜ ê·¼ë¬´ ì •ë³´ â”â”â”â”â”â”  â”‚
â”‚  ì˜ˆì • ì‹œê°„: 09:00 ~ 18:00   â”‚
â”‚  ê·¼ë¬´ì¡°: ì£¼ê°„                â”‚
â”‚                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ì¶œê·¼ í›„**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â† ì¶œí‡´ê·¼                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚   ğŸŸ¢ ì¶œê·¼ ì¤‘             â”‚â”‚
â”‚  â”‚   ì¶œê·¼: 09:02            â”‚â”‚
â”‚  â”‚   ê·¼ë¬´ì‹œê°„: 4ì‹œê°„ 32ë¶„    â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚                         â”‚â”‚
â”‚  â”‚      í‡´ê·¼ ìš”ì²­ ğŸŒ™        â”‚â”‚
â”‚  â”‚                         â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                             â”‚
â”‚  â”â”â” ë‚´ ìš”ì²­ ì´ë ¥ â”â”â”â”â”â”â”â”  â”‚
â”‚                             â”‚
â”‚  [ë‚´ ìš”ì²­ ì´ë ¥ ë³´ê¸° â†’]       â”‚
â”‚                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**í‡´ê·¼ ìš”ì²­ ëª¨ë‹¬**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       í‡´ê·¼ ìš”ì²­              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                             â”‚
â”‚  í‡´ê·¼ ì‹œê°„: 18:05            â”‚
â”‚  ì´ ê·¼ë¬´: 9ì‹œê°„ 3ë¶„          â”‚
â”‚                             â”‚
â”‚  ë©”ëª¨ (ì„ íƒ):               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ ì •ìƒ í‡´ê·¼í•©ë‹ˆë‹¤          â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   ì·¨ì†Œ    â”‚  ìš”ì²­í•˜ê¸°  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 3.8 ë‚´ ìš”ì²­ ì´ë ¥ (/crew/attendance/history)

**UI êµ¬ì„±**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â† ë‚´ ìš”ì²­ ì´ë ¥               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ 2026.02.24 (ì›”)          â”‚ â”‚
â”‚ â”‚ í‡´ê·¼ ìš”ì²­: 18:05         â”‚ â”‚
â”‚ â”‚ ìƒíƒœ: ğŸŸ¡ ëŒ€ê¸° ì¤‘          â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ 2026.02.23 (ì¼)          â”‚ â”‚
â”‚ â”‚ í‡´ê·¼ ìš”ì²­: 17:30         â”‚ â”‚
â”‚ â”‚ ìƒíƒœ: ğŸ”´ ë°˜ë ¤             â”‚ â”‚
â”‚ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚ â”‚
â”‚ â”‚ ë°˜ë ¤ ì‚¬ìœ :               â”‚ â”‚
â”‚ â”‚ "ì”ì—¬ ì°¨ëŸ‰ 3ëŒ€ í™•ì¸ í•„ìš”" â”‚ â”‚
â”‚ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚ â”‚
â”‚ â”‚ [ì¬ìš”ì²­í•˜ê¸°]             â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ 2026.02.22 (í† )          â”‚ â”‚
â”‚ â”‚ í‡´ê·¼ ìš”ì²­: 18:00         â”‚ â”‚
â”‚ â”‚ ìƒíƒœ: ğŸŸ¢ ìŠ¹ì¸             â”‚ â”‚
â”‚ â”‚ ìŠ¹ì¸: 18:02 (ê´€ë¦¬ì)      â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ìƒíƒœë³„ í‘œì‹œ**
| status | ë±ƒì§€ | ì•¡ì…˜ |
|--------|------|------|
| pending | ğŸŸ¡ ëŒ€ê¸° ì¤‘ | ì·¨ì†Œ ê°€ëŠ¥ |
| approved | ğŸŸ¢ ìŠ¹ì¸ | - |
| rejected | ğŸ”´ ë°˜ë ¤ | ì¬ìš”ì²­ ë²„íŠ¼ |

**ë°˜ë ¤ ì‹œ í”Œë¡œìš°**
1. í‘¸ì‹œ ì•Œë¦¼ ìˆ˜ì‹ : "í‡´ê·¼ìš”ì²­ì´ ë°˜ë ¤ë˜ì—ˆìŠµë‹ˆë‹¤"
2. ì•Œë¦¼ íƒ­ ë˜ëŠ” ë‚´ ìš”ì²­ ì´ë ¥ì—ì„œ í™•ì¸
3. ë°˜ë ¤ ì‚¬ìœ  í™•ì¸
4. "ì¬ìš”ì²­í•˜ê¸°" ë²„íŠ¼ â†’ ìƒˆ í‡´ê·¼ìš”ì²­ ìƒì„±

---

### 3.9 ì‚¬ê³ ë³´ê³  (/crew/accident)

**ìƒˆ ì‚¬ê³  ë“±ë¡**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â† ì‚¬ê³ ë³´ê³                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                             â”‚
â”‚  â”â”â” ì‚¬ê³  ìœ í˜• â”â”â”â”â”â”â”â”â”â”â”  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ ğŸš— ì ‘ì´‰ â”‚ ğŸ”§ íŒŒì†  â”‚      â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤      â”‚
â”‚  â”‚ ğŸš§ ì‹œì„¤ â”‚ ğŸ‘¤ ë¶€ìƒ  â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                             â”‚
â”‚  â”â”â” ì°¨ëŸ‰ ì •ë³´ â”â”â”â”â”â”â”â”â”â”â”  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ 12ê°€ 3456 (ìë™ì™„ì„±)     â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                             â”‚
â”‚  â”â”â” ì‚¬ê³  ë‚´ìš© â”â”â”â”â”â”â”â”â”â”â”  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ B2 ì£¼ì°¨ì¥ì—ì„œ ê¸°ë‘¥ì—     â”‚â”‚
â”‚  â”‚ ì‚¬ì´ë“œë¯¸ëŸ¬ ì ‘ì´‰...       â”‚â”‚
â”‚  â”‚                         â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                             â”‚
â”‚  â”â”â” ì‚¬ì§„ ì²¨ë¶€ (ìµœëŒ€ 5ì¥) â”â” â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ğŸ“·  â”‚ ğŸ“·  â”‚ ğŸ“·  â”‚  +  â”‚  â”‚
â”‚  â”‚ 1   â”‚ 2   â”‚     â”‚     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚      ì‚¬ê³  ë³´ê³  ì œì¶œ      â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ì‚¬ê³  ìœ í˜•**
| ìœ í˜• | ì•„ì´ì½˜ | ì„¤ëª… |
|------|--------|------|
| ì ‘ì´‰ | ğŸš— | ì°¨ëŸ‰ ê°„ ì ‘ì´‰ |
| íŒŒì† | ğŸ”§ | ì°¨ëŸ‰ ë‹¨ë… íŒŒì† |
| ì‹œì„¤ | ğŸš§ | ì£¼ì°¨ì¥ ì‹œì„¤ íŒŒì† |
| ë¶€ìƒ | ğŸ‘¤ | ì¸ëª… ì‚¬ê³  |

**DB ì €ì¥ (accidents í…Œì´ë¸”)**
```typescript
{
  org_id: currentOrgId,
  store_id: currentStoreId,
  reporter_id: currentUserId,
  accident_type: "collision",
  plate_number: "12ê°€3456",
  ticket_id: ticketId, // ìˆìœ¼ë©´
  description: "...",
  photos: ["url1", "url2"],
  status: "reported",
  reported_at: new Date()
}
```

---

### 3.10 ì›”ì£¼ì°¨ ì¡°íšŒ (/crew/monthly)

**UI êµ¬ì„±**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â† ì›”ì£¼ì°¨ ì¡°íšŒ                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ ğŸ” ì°¨ëŸ‰ë²ˆí˜¸ ê²€ìƒ‰         â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ 12ê°€ 3456               â”‚â”‚
â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚â”‚
â”‚  â”‚ ìƒíƒœ: ğŸŸ¢ í™œì„±            â”‚â”‚
â”‚  â”‚ ê¸°ê°„: 2026.02.01 ~      â”‚â”‚
â”‚  â”‚       2026.02.28        â”‚â”‚
â”‚  â”‚ ê³ ê°: í™ê¸¸ë™             â”‚â”‚
â”‚  â”‚ ì—°ë½ì²˜: 010-****-1234   â”‚â”‚
â”‚  â”‚ ì›”ìš”ê¸ˆ: â‚©150,000        â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                             â”‚
â”‚  âš ï¸ ë§Œë£Œ 3ì¼ ì „ - ê°±ì‹  ì•ˆë‚´  â”‚
â”‚                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ì¡°íšŒ ê²°ê³¼**
| ìƒíƒœ | í‘œì‹œ |
|------|------|
| í™œì„± (7ì¼ ì´ìƒ) | ğŸŸ¢ í™œì„± |
| ë§Œë£Œ ì„ë°• (7ì¼ ì´ë‚´) | ğŸŸ¡ ë§Œë£Œ ì˜ˆì • + ê²½ê³  |
| ë§Œë£Œë¨ | ğŸ”´ ë§Œë£Œë¨ |
| ë¯¸ë“±ë¡ | "ë“±ë¡ëœ ì›”ì£¼ì°¨ ì •ë³´ê°€ ì—†ìŠµë‹ˆë‹¤" |

---

### 3.11 ì„¤ì • (/crew/settings)

**UI êµ¬ì„±**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â† ì„¤ì •                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ ğŸ‘¤ í™ê¸¸ë™                â”‚â”‚
â”‚  â”‚    crew@example.com     â”‚â”‚
â”‚  â”‚    ê°•ì„œì  ì†Œì†           â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                             â”‚
â”‚  â”â”â” ì•Œë¦¼ ì„¤ì • â”â”â”â”â”â”â”â”â”â”â”  â”‚
â”‚  â”‚ í‡´ê·¼ìš”ì²­ ê²°ê³¼ ì•Œë¦¼   ğŸ”˜  â”‚ â”‚
â”‚  â”‚ ì¶œì°¨ìš”ì²­ ì•Œë¦¼        ğŸ”˜  â”‚ â”‚
â”‚  â”‚ ê³µì§€ì‚¬í•­ ì•Œë¦¼        ğŸ”˜  â”‚ â”‚
â”‚                             â”‚
â”‚  â”â”â” ì•± ì •ë³´ â”â”â”â”â”â”â”â”â”â”â”â”â”  â”‚
â”‚  â”‚ ë²„ì „: 1.0.0              â”‚ â”‚
â”‚  â”‚ í™ˆí™”ë©´ ì¶”ê°€ ì•ˆë‚´     â†’   â”‚ â”‚
â”‚                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚       ë¡œê·¸ì•„ì›ƒ           â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 4. ì‚¬ìš©ì í”Œë¡œìš°

### 4.1 ì¶œê·¼ â†’ ì…ì°¨ â†’ í‡´ê·¼ (ë°œë › í¬ë£¨ í•˜ë£¨)

```
[ì¶œê·¼]
1. ì•± ì‹¤í–‰ â†’ ë§¤ì¥ ì„ íƒ (ë³µìˆ˜ ì‹œ)
2. í™ˆ í™”ë©´ â†’ "ì¶œê·¼í•˜ê¸°" ë²„íŠ¼
3. GPS ìœ„ì¹˜ í™•ì¸ â†’ ë§¤ì¥ ë°˜ê²½ 200m ì´ë‚´ í™•ì¸
4. ì¶œê·¼ ì™„ë£Œ â†’ worker_attendance ê¸°ë¡

[ì—…ë¬´ ì¤‘]
5. ì°¨ëŸ‰ ë„ì°© â†’ "ì…ì°¨ ë“±ë¡"
6. ë²ˆí˜¸íŒ ì´¬ì˜/ì…ë ¥ â†’ ì›”ì£¼ì°¨ ìë™ ì²´í¬
7. ì£¼ì°¨ìœ í˜•(ë°œë ›) â†’ ìœ„ì¹˜ ì…ë ¥ â†’ QR ë°œê¸‰
8. ê³ ê°ì—ê²Œ QR ì „ë‹¬

[ì¶œì°¨]
9. ê³ ê° ì¶œì°¨ìš”ì²­ (ë¯¸íŒí‹°ì¼“ì—ì„œ)
10. í¬ë£¨ ì•± í‘¸ì‹œ ì•Œë¦¼ ìˆ˜ì‹ 
11. ì°¨ëŸ‰ í”½ì—… â†’ "ì°¨ëŸ‰ ì¤€ë¹„ ì™„ë£Œ"
12. ì…ì°¨í˜„í™© â†’ í•´ë‹¹ ì°¨ëŸ‰ â†’ "ì¶œì°¨ ì™„ë£Œ"

[í‡´ê·¼]
13. "í‡´ê·¼ ìš”ì²­" ë²„íŠ¼
14. ê´€ë¦¬ì ìŠ¹ì¸ ëŒ€ê¸°
15. ìŠ¹ì¸ ì‹œ â†’ í‡´ê·¼ ì™„ë£Œ
16. ë°˜ë ¤ ì‹œ â†’ ì‚¬ìœ  í™•ì¸ â†’ ì¬ìš”ì²­
```

### 4.2 í‡´ê·¼ìš”ì²­ ë°˜ë ¤ í”Œë¡œìš°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  í¬ë£¨       â”‚     â”‚  VALETMAN   â”‚     â”‚  í¬ë£¨       â”‚
â”‚  í‡´ê·¼ìš”ì²­   â”‚â”€â”€â”€â”€â–¶â”‚  ê´€ë¦¬ì     â”‚â”€â”€â”€â”€â–¶â”‚  ë°˜ë ¤ì•Œë¦¼   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚  ë°˜ë ¤+ì‚¬ìœ   â”‚     â”‚  ìˆ˜ì‹        â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                               â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
                    â”‚  í¬ë£¨       â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚  ì‚¬ìœ í™•ì¸   â”‚
                    â”‚  ì¬ìš”ì²­     â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.3 ì‚¬ê³ ë³´ê³  í”Œë¡œìš°

```
ì‚¬ê³  ë°œìƒ â†’ ì‚¬ê³ ë³´ê³  ë©”ë‰´ â†’ ìœ í˜• ì„ íƒ â†’ ì°¨ëŸ‰ì •ë³´ â†’
ì‚¬ê³ ë‚´ìš© ì‘ì„± â†’ ì‚¬ì§„ ì´¬ì˜ â†’ ì œì¶œ â†’
ê´€ë¦¬ì VALETMANì—ì„œ í™•ì¸ â†’ ì²˜ë¦¬
```

---

## 5. DB ì—°ë™

### 5.1 ì‚¬ìš© í…Œì´ë¸” (ê¸°ì¡´)

| í…Œì´ë¸” | ìš©ë„ | ì£¼ìš” í•„ë“œ |
|--------|------|----------|
| profiles | ì‚¬ìš©ì ì •ë³´ | id, name, role, org_id |
| stores | ë§¤ì¥ ì •ë³´ | id, name, address, org_id |
| store_members | ë§¤ì¥ ë°°ì • | user_id, store_id |
| workers | í¬ë£¨ ì •ë³´ | id, name, phone, user_id |
| worker_attendance | ì¶œí‡´ê·¼ | worker_id, check_in, check_out |
| checkout_requests | í‡´ê·¼ìš”ì²­ | worker_id, status, rejected_reason |
| mepark_tickets | ì£¼ì°¨ í‹°ì¼“ | plate_number, status, entry_crew_id |
| monthly_parking | ì›”ì£¼ì°¨ | plate_number, start_date, end_date |
| visit_places | ë°©ë¬¸ì§€ | name, fee ì •ë³´ |
| parking_lots | ì£¼ì°¨ì¥ | name, spaces |

### 5.2 ì‹ ê·œ í…Œì´ë¸”

**accidents (ì‚¬ê³ ë³´ê³ )**
```sql
CREATE TABLE accidents (
  id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
  org_id uuid NOT NULL REFERENCES organizations(id),
  store_id uuid NOT NULL REFERENCES stores(id),
  reporter_id uuid NOT NULL REFERENCES auth.users(id),
  ticket_id uuid REFERENCES mepark_tickets(id),
  
  accident_type text NOT NULL,  -- collision, damage, facility, injury
  plate_number text,
  description text NOT NULL,
  photos text[],  -- Storage URLs
  
  status text DEFAULT 'reported',  -- reported, reviewing, resolved
  admin_notes text,
  resolved_at timestamptz,
  resolved_by uuid REFERENCES auth.users(id),
  
  reported_at timestamptz DEFAULT now(),
  created_at timestamptz DEFAULT now(),
  updated_at timestamptz DEFAULT now()
);

CREATE INDEX idx_accidents_org ON accidents(org_id);
CREATE INDEX idx_accidents_store ON accidents(store_id);
CREATE INDEX idx_accidents_status ON accidents(status);
ALTER TABLE accidents ENABLE ROW LEVEL SECURITY;
```

### 5.3 í…Œì´ë¸” ìˆ˜ì •

**checkout_requests ì»¬ëŸ¼ ì¶”ê°€**
```sql
-- ë°˜ë ¤ ì‚¬ìœ  (ì´ë¯¸ ìˆìœ¼ë©´ skip)
ALTER TABLE checkout_requests 
ADD COLUMN IF NOT EXISTS rejected_reason text;

-- ì¬ìš”ì²­ ì°¸ì¡°
ALTER TABLE checkout_requests 
ADD COLUMN IF NOT EXISTS previous_request_id uuid REFERENCES checkout_requests(id);
```

---

## 6. í‘¸ì‹œ ì•Œë¦¼

### 6.1 ì•Œë¦¼ ì¢…ë¥˜

| ìƒí™© | ì œëª© | ë‚´ìš© | ìš°ì„ ìˆœìœ„ |
|------|------|------|:--------:|
| í‡´ê·¼ìš”ì²­ ìŠ¹ì¸ | í‡´ê·¼ ìŠ¹ì¸ | í‡´ê·¼ìš”ì²­ì´ ìŠ¹ì¸ë˜ì—ˆìŠµë‹ˆë‹¤ | ë³´í†µ |
| í‡´ê·¼ìš”ì²­ ë°˜ë ¤ | í‡´ê·¼ ë°˜ë ¤ | í‡´ê·¼ìš”ì²­ì´ ë°˜ë ¤ë˜ì—ˆìŠµë‹ˆë‹¤. ì‚¬ìœ ë¥¼ í™•ì¸í•˜ì„¸ìš” | ë†’ìŒ |
| ì¶œì°¨ìš”ì²­ ìˆ˜ì‹  | ì¶œì°¨ ìš”ì²­ | 12ê°€ 3456 ì°¨ëŸ‰ ì¶œì°¨ìš”ì²­ (B2-A12) | ë†’ìŒ |
| ê¸´ê¸‰ ê³µì§€ | ğŸ“¢ ê³µì§€ | {ë‚´ìš©} | ë†’ìŒ |

### 6.2 ì›¹ í‘¸ì‹œ êµ¬í˜„

```typescript
// service-worker.ts
self.addEventListener('push', (event) => {
  const data = event.data?.json();
  
  self.registration.showNotification(data.title, {
    body: data.body,
    icon: '/icons/crew-192.png',
    badge: '/icons/badge-72.png',
    tag: data.tag,
    data: { url: data.url }
  });
});

self.addEventListener('notificationclick', (event) => {
  event.notification.close();
  clients.openWindow(event.notification.data.url);
});
```

### 6.3 í‘¸ì‹œ ì‹¤íŒ¨ ì‹œ í´ë°±

1. **ì›¹ í‘¸ì‹œ ë°œì†¡ ì‹œë„**
2. ì‹¤íŒ¨ ì‹œ â†’ **ì¹´ì¹´ì˜¤ ì•Œë¦¼í†¡ ë°œì†¡** (ì†”ë¼í”¼)
3. ì•Œë¦¼í†¡ë„ ì‹¤íŒ¨ ì‹œ â†’ **ì•± ë‚´ ì•Œë¦¼í•¨ì— ì €ì¥**

---

## 7. ì—ëŸ¬ ì²˜ë¦¬

### 7.1 ê³µí†µ ì—ëŸ¬

| ìƒí™© | ë©”ì‹œì§€ | ì•¡ì…˜ |
|------|--------|------|
| ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ | ì¸í„°ë„· ì—°ê²°ì„ í™•ì¸í•´ì£¼ì„¸ìš” | ì¬ì‹œë„ ë²„íŠ¼ |
| ì„œë²„ ì˜¤ë¥˜ | ì¼ì‹œì  ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤ | ì¬ì‹œë„ ë²„íŠ¼ |
| ì¸ì¦ ë§Œë£Œ | ë‹¤ì‹œ ë¡œê·¸ì¸í•´ì£¼ì„¸ìš” | ë¡œê·¸ì¸ í™”ë©´ |
| ê¶Œí•œ ì—†ìŒ | ì ‘ê·¼ ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤ | ë’¤ë¡œê°€ê¸° |

### 7.2 ê¸°ëŠ¥ë³„ ì—ëŸ¬

| ê¸°ëŠ¥ | ìƒí™© | ë©”ì‹œì§€ |
|------|------|--------|
| ì¶œê·¼ | GPS êº¼ì§ | ìœ„ì¹˜ ì„œë¹„ìŠ¤ë¥¼ ì¼œì£¼ì„¸ìš” |
| ì¶œê·¼ | ë§¤ì¥ ë²”ìœ„ ë²—ì–´ë‚¨ | ë§¤ì¥ ê·¼ì²˜ì—ì„œ ì¶œê·¼í•´ì£¼ì„¸ìš” (í˜„ì¬ ê±°ë¦¬: 500m) |
| ì…ì°¨ | ë²ˆí˜¸íŒ í˜•ì‹ ì˜¤ë¥˜ | ì˜¬ë°”ë¥¸ ì°¨ëŸ‰ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš” |
| ì…ì°¨ | ì¤‘ë³µ ì…ì°¨ | ì´ë¯¸ ì…ì°¨ëœ ì°¨ëŸ‰ì…ë‹ˆë‹¤ |
| ì¶œì°¨ | ë¯¸ê²°ì œ | ê²°ì œê°€ ì™„ë£Œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤ |
| ì‚¬ê³ ë³´ê³  | ì‚¬ì§„ ì—…ë¡œë“œ ì‹¤íŒ¨ | ì‚¬ì§„ ì—…ë¡œë“œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš” |

---

## 8. ê°œë°œ ë¡œë“œë§µ

### Phase 1: ê¸°ë³¸ êµ¬ì¡° (2ì¼)

| ì¼ì°¨ | ì‘ì—… |
|:----:|------|
| 1 | í”„ë¡œì íŠ¸ ì…‹ì—…, ë¼ìš°íŒ…, ë ˆì´ì•„ì›ƒ, ë¡œê·¸ì¸ |
| 2 | ë§¤ì¥ ì„ íƒ, í™ˆ í™”ë©´, í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ |

### Phase 2: ì…ì¶œì°¨ (3ì¼)

| ì¼ì°¨ | ì‘ì—… |
|:----:|------|
| 3 | ì…ì°¨ ë“±ë¡ (ë²ˆí˜¸íŒ ì…ë ¥, ì›”ì£¼ì°¨ ì²´í¬) |
| 4 | ì…ì°¨ ë“±ë¡ (QR ë°œê¸‰), ì…ì°¨ í˜„í™© ëª©ë¡ |
| 5 | ì¶œì°¨ ì²˜ë¦¬, ì¶”ê°€ìš”ê¸ˆ ì²˜ë¦¬ |

### Phase 3: ì¶œí‡´ê·¼ (2ì¼)

| ì¼ì°¨ | ì‘ì—… |
|:----:|------|
| 6 | ì¶œê·¼ (GPS), í‡´ê·¼ ìš”ì²­ |
| 7 | ë‚´ ìš”ì²­ ì´ë ¥, ë°˜ë ¤ í™•ì¸, ì¬ìš”ì²­ |

### Phase 4: ì‚¬ê³ ë³´ê³  + ë§ˆë¬´ë¦¬ (2ì¼)

| ì¼ì°¨ | ì‘ì—… |
|:----:|------|
| 8 | ì‚¬ê³ ë³´ê³  ë“±ë¡, ì‚¬ì§„ ì—…ë¡œë“œ |
| 9 | ì›”ì£¼ì°¨ ì¡°íšŒ, ì„¤ì •, í‘¸ì‹œ ì•Œë¦¼, í…ŒìŠ¤íŠ¸ |

### ì´ ì˜ˆìƒ: 9ì¼ (ì£¼ë§ ì œì™¸ ì•½ 2ì£¼)

---

## 9. íŒŒì¼ êµ¬ì¡° (ì˜ˆì •)

```
src/app/
â”œâ”€â”€ crew/
â”‚   â”œâ”€â”€ layout.tsx              # CREW ì•± ë ˆì´ì•„ì›ƒ
â”‚   â”œâ”€â”€ page.tsx                # í™ˆ
â”‚   â”œâ”€â”€ login/page.tsx          # ë¡œê·¸ì¸
â”‚   â”œâ”€â”€ select-store/page.tsx   # ë§¤ì¥ ì„ íƒ
â”‚   â”œâ”€â”€ entry/page.tsx          # ì…ì°¨ ë“±ë¡
â”‚   â”œâ”€â”€ parking-list/page.tsx   # ì…ì°¨ í˜„í™©
â”‚   â”œâ”€â”€ checkout/[id]/page.tsx  # ì¶œì°¨ ì²˜ë¦¬
â”‚   â”œâ”€â”€ attendance/
â”‚   â”‚   â”œâ”€â”€ page.tsx            # ì¶œí‡´ê·¼
â”‚   â”‚   â””â”€â”€ history/page.tsx    # ë‚´ ìš”ì²­ ì´ë ¥
â”‚   â”œâ”€â”€ accident/
â”‚   â”‚   â”œâ”€â”€ page.tsx            # ì‚¬ê³ ë³´ê³  ëª©ë¡
â”‚   â”‚   â””â”€â”€ new/page.tsx        # ìƒˆ ì‚¬ê³  ë“±ë¡
â”‚   â”œâ”€â”€ monthly/page.tsx        # ì›”ì£¼ì°¨ ì¡°íšŒ
â”‚   â””â”€â”€ settings/page.tsx       # ì„¤ì •
â”œâ”€â”€ components/crew/
â”‚   â”œâ”€â”€ CrewLayout.tsx          # ë ˆì´ì•„ì›ƒ
â”‚   â”œâ”€â”€ CrewBottomNav.tsx       # í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜
â”‚   â”œâ”€â”€ CrewHeader.tsx          # ìƒë‹¨ í—¤ë”
â”‚   â”œâ”€â”€ PlateInput.tsx          # ë²ˆí˜¸íŒ ì…ë ¥
â”‚   â”œâ”€â”€ QRGenerator.tsx         # QR ìƒì„±
â”‚   â””â”€â”€ CameraCapture.tsx       # ì¹´ë©”ë¼ ì´¬ì˜
â””â”€â”€ lib/
    â””â”€â”€ crew/
        â”œâ”€â”€ useCrewAuth.ts      # í¬ë£¨ ì¸ì¦ í›…
        â”œâ”€â”€ useStore.ts         # ë§¤ì¥ ìƒíƒœ
        â””â”€â”€ usePushNotification.ts  # í‘¸ì‹œ ì•Œë¦¼
```

---

## 10. PWA ì„¤ì •

### manifest.json

```json
{
  "name": "ME.PARK CREW",
  "short_name": "CREW",
  "description": "ì£¼ì°¨ í¬ë£¨ ì „ìš© ì•±",
  "start_url": "/crew",
  "display": "standalone",
  "background_color": "#1428A0",
  "theme_color": "#1428A0",
  "orientation": "portrait",
  "icons": [
    {
      "src": "/icons/crew-192.png",
      "sizes": "192x192",
      "type": "image/png",
      "purpose": "any maskable"
    },
    {
      "src": "/icons/crew-512.png",
      "sizes": "512x512",
      "type": "image/png",
      "purpose": "any maskable"
    }
  ]
}
```

### í™ˆí™”ë©´ ì¶”ê°€ ì•ˆë‚´ (iOS)

```
ì„¤ì • > Safari > ê³µìœ  ë²„íŠ¼ > í™ˆ í™”ë©´ì— ì¶”ê°€
â†’ ì•±ì²˜ëŸ¼ ì‚¬ìš© + í‘¸ì‹œ ì•Œë¦¼ í™œì„±í™”
```

---

## ë¶€ë¡: í™”ë©´ ë””ìì¸ ê°€ì´ë“œ

### ì»¬ëŸ¬

| ìš©ë„ | ìƒ‰ìƒ | ì½”ë“œ |
|------|------|------|
| Primary | ë„¤ì´ë¹„ | #1428A0 |
| Accent | ê³¨ë“œ | #F5B731 |
| Success | ê·¸ë¦° | #16A34A |
| Warning | ì˜¤ë Œì§€ | #EA580C |
| Error | ë ˆë“œ | #DC2626 |
| Background | í™”ì´íŠ¸ | #FFFFFF |
| Card BG | ë¼ì´íŠ¸ê·¸ë ˆì´ | #F8FAFC |
| Text | ë‹¤í¬ | #1A1D2B |
| Subtext | ê·¸ë ˆì´ | #64748B |

### ì»´í¬ë„ŒíŠ¸

| ì»´í¬ë„ŒíŠ¸ | ìŠ¤íƒ€ì¼ |
|----------|--------|
| ì¹´ë“œ | rounded-xl, shadow-sm, border |
| ë²„íŠ¼ (Primary) | bg-[#1428A0], text-white, rounded-lg, py-4 |
| ë²„íŠ¼ (Secondary) | bg-[#F5B731], text-[#1A1D2B], rounded-lg |
| ì…ë ¥ í•„ë“œ | border, rounded-lg, py-3, px-4 |
| í•˜ë‹¨ ë„¤ë¹„ | fixed bottom-0, bg-white, border-t, h-16 |

### í°íŠ¸

| ìš©ë„ | í¬ê¸° | êµµê¸° |
|------|------|------|
| í˜ì´ì§€ ì œëª© | 20px | Bold |
| ì„¹ì…˜ ì œëª© | 16px | Semibold |
| ë³¸ë¬¸ | 14px | Regular |
| ìº¡ì…˜ | 12px | Regular |
| í° ìˆ«ì | 32px | Bold |
