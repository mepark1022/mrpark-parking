# 📋 2026.2.21 (토) TODO — 최신 현황

> 기준: GitHub 커밋 히스토리 + 메모리 업데이트 반영

---

## ✅ 완료된 작업 (2026.2.19~21)

### v3 디자인 시스템 적용
| 페이지 | 상태 | 커밋 |
|--------|------|------|
| 대시보드 /dashboard | ✅ 완료 | 좌280px요약+3열그리드+하이라이트카드 |
| 데이터 입력 /entry | ✅ 완료 | 네이비/골드 컬러, 시간대 그리드 |
| 입차 현황 /parking-status | ✅ 완료 | KPI 아이콘박스, 시간대차트, 네이비 토글 |
| 월주차 관리 /monthly | ✅ 완료 | v3 + 모바일 카드뷰 반응형 |
| 매출 분석 /analytics | ✅ 완료 | 기간탭/매장필터/Recharts 차트 |
| 근무자 관리 /workers | ✅ 완료 | 오늘의 근무자 요약 + 6탭 전면 개편 |
| 매장 관리 /stores | ✅ 완료 | 네이비/골드, 주차장 필수배너, 섹션헤더 |
| 팀원 초대 /team | ✅ 완료 | v3 디자인 |
| 사고보고 /accident | ✅ 완료 | v3 디자인 |
| 설정 /settings | ✅ 완료 | v3 디자인 |
| 기능안내 /guide | ✅ 완료 | v3 디자인 |

### 기타 완료
- [x] 로고 변경: ME.PARK 2.0 → 미팍Ticket (P아이콘+골드바+미팍Ticket)
- [x] globals.css v3 컴포넌트 클래스 추가
- [x] layout.tsx: Outfit + NotoSansKR 폰트
- [x] Sidebar: 메뉴그룹 분리 + 이메일 표시
- [x] 근태 매트릭스 뷰 + 엑셀 다운로드 (현재 매장/전체 매장 시트별)
- [x] 한국 공휴일 연동 (2025~2027)
- [x] parking_lots org_id 누락 버그 수정
- [x] 주차장 면수 계산 오류 수정 (self+mechanical 합산)
- [x] 주차장 필수 등록 강제 (0개 경고, 취소 confirm)

### 모바일 최적화 완료
- [x] **대시보드 모바일** ✅ 완료 (2026.2.21)
  - KPI 카드: 4열 → 2열 그리드
  - 주차장 현황: 매장 탭 가로 스크롤, 3열 → 1열 카드
  - 하이라이트 카드 (오늘의 실적): 3열 stat → 세로 스택
  - 차트: 높이 180px로 축소
  - 전체 패딩: 24px → 16px

---

## 🔴 미완료 — 긴급

### 1. Supabase SQL 실행 (직접 대시보드에서 실행 필요)

```sql
-- 기존 parking_lots에 org_id 채우기
UPDATE parking_lots pl
SET org_id = s.org_id
FROM stores s
WHERE pl.store_id = s.id
AND pl.org_id IS NULL;

-- daily_records 컬럼 추가
ALTER TABLE daily_records ADD COLUMN IF NOT EXISTS day_type text DEFAULT 'weekday';
ALTER TABLE daily_records ADD COLUMN IF NOT EXISTS is_holiday boolean DEFAULT false;
```

> ⚠️ 이 SQL 실행 전까지 대시보드 주차장 현황 데이터 미표시 가능

---

## 📱 모바일 최적화 현황

| 페이지 | PC | 모바일 | 상태 |
|--------|-----|--------|------|
| 대시보드 | ✅ | ✅ 완료 | ✅ |
| 데이터 입력 | ✅ | ✅ | ✅ |
| 입차 현황 | ✅ | ⚠️ 기본 | 🟡 |
| 월주차 관리 | ✅ | ✅ | ✅ |
| 매출 분석 | ✅ | ⚠️ 기본 | 🟡 |
| 근무자 관리 | ✅ | ✅ | ✅ |
| 매장 관리 | ✅ | ⚠️ 기본 | 🟡 |
| 팀원 초대 | ✅ | ✅ | ✅ |
| 사고보고 | ✅ | ⚠️ 기본 | 🟡 |
| 설정 | ✅ | ⚠️ 기본 | 🟡 |
| 기능안내 | ✅ | ⚠️ 기본 | 🟡 |
| 로그인 | ✅ | ⚠️ 기본 | 🟡 |

### 🟡 우선순위 1: 매출 분석 모바일 개선
- [ ] 기간 탭: 가로 스크롤
- [ ] KPI 카드: 2열
- [ ] 차트 영역: 반응형 높이
- [ ] 매장별 비교 테이블: 가로 스크롤

### 🟡 우선순위 2: 나머지 페이지 모바일 polish
- [ ] 입차 현황: 테이블 → 카드형
- [ ] 매장 관리: 주차장 카드 1열, 운영시간 폼 세로
- [ ] 사고보고: 목록 카드형, 등록 폼 1열 스택
- [ ] 설정: 메뉴 카드 최적화
- [ ] 기능안내: 3열 → 1열 그리드
- [ ] 로그인: 로고+폼 중앙 정렬, 입력 필드 풀 너비

---

## 🔧 기능 보완 작업

### 출퇴근-근태 연동 강화
- [ ] 출퇴근 탭 → worker_attendance INSERT/UPDATE 연동 (출근/퇴근 시간 직접 입력)
- [ ] 출퇴근 탭: 매장별 필터 추가

### 대시보드 검증
- [ ] SQL 실행 후 강서푸른꿈/강원빌딩 주차장 데이터 표시 확인

### 추가 기능 (백로그)
- [ ] 공휴일 보너스 계산 로직 (daily_records.is_holiday 기반)
- [ ] 근태 엑셀에 공휴일 근무일수 별도 표시
- [ ] 2027년 이후 공휴일 데이터 추가 시기 확인

---

## 📦 배포 정보

| 항목 | 내용 |
|------|------|
| GitHub | https://github.com/mepark1022/mrpark-parking |
| Vercel | https://mrpark-parking.vercel.app |
| 최근 커밋 | 대시보드 모바일 최적화 (2026.2.21) |
| PAT 만료 | ghp_******* (만료일 미확인, 별도 보관) |
